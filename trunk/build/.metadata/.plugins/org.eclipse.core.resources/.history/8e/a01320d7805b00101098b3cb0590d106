package org.karlsland.m3g.test;

import static org.junit.Assert.*;

import org.junit.Test;
import org.karlsland.m3g.KeyframeSequence;

public class TestKeyframeSequence {

	@Test
	public void testInitialize() {
        KeyframeSequence keySeq = new KeyframeSequence (4, 3, KeyframeSequence.SPLINE);
        
        assertEquals (4, keySeq.getKeyframeCount());
        assertEquals (3, keySeq.getComponentCount());
        assertEquals (KeyframeSequence.SPLINE, keySeq.getInterpolationType());
	}

	@Test
	public void testFinalize() {
        @SuppressWarnings("unused")
		KeyframeSequence keySeq = new KeyframeSequence (4, 3, KeyframeSequence.SPLINE);
        keySeq = null;
        System.gc();
	}


	@Test
	public void testSetDuration() {
		KeyframeSequence keySeq = new KeyframeSequence (4, 3, KeyframeSequence.SPLINE);
		keySeq.setDuration(100);

        assertEquals (100, keySeq.getDuration());
	}

	@Test
	public void testSetKeyframe() {
		KeyframeSequence keySeq = new KeyframeSequence (4, 3, KeyframeSequence.SPLINE);
		keySeq.setKeyframe(0, 100, new float[]{1,2,3});
		keySeq.setKeyframe(1, 200, new float[]{4,5,6});
		float[] value = new float[3];
		
		assertEqual(100, keySeq.getKeyframe(0, value);)
		assertEqual(1, value[0]);
		assertEqual(2, value[1]);
		assertEqual(3, value[2]);
		assertEqual(200, keySeq.getKeyframe(1, value);)
		assertEqual(4, value[0]);
		assertEqual(5, value[1]);
		assertEqual(6, value[2]);
			
		
		fail("まだ実装されていません");
	}

	@Test
	public void testSetRepeatMode() {
		KeyframeSequence keySeq = new KeyframeSequence (4, 3, KeyframeSequence.SPLINE);
        keySeq.setRepeatMode (KeyframeSequence.LOOP);

        assertEquals (KeyframeSequence.LOOP, keySeq.getRepeatMode());
	}

	@Test
	public void testSetValidRange() {
		KeyframeSequence keySeq = new KeyframeSequence (4, 3, KeyframeSequence.SPLINE);
        keySeq.setValidRange (1, 3);
      
        assertEquals (1, keySeq.getValidRangeFirst());
        assertEquals (3, keySeq.getValidRangeLast());
	}

	@Test
	public void testToString() {
		KeyframeSequence keySeq = new KeyframeSequence (4, 3, KeyframeSequence.SPLINE);
		keySeq.toString();
	}


}
